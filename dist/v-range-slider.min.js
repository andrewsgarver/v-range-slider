/*!
 * v-range-slider v0.0.8
 * https://github.com/mykeels/v-range-slider
 *
 * @license
 * Copyright (c) 2016-2018 mykeels
 * Released under the MIT license
 * https://github.com/mykeels/v-range-slider/blob/master/LICENSE
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.VRangeSlider=e()}(this,function(){"use strict";var t={created:function(){"undefined"!=typeof document&&e(this,function(t,e){var n,i,a,r;n=document,i=t,a=e,r=s?{passive:!1}:void 0,n.addEventListener(i,a,r)})},beforeDestroy:function(){"undefined"!=typeof document&&e(this,function(t,e){var n,i,a,r;n=document,i=t,a=e,r=s?{passive:!1}:void 0,n.removeEventListener(i,a,r)})}},s="undefined"!=typeof window&&function(){var e=!1;try{var t={get:function(){e=!0}},n=Object.defineProperty({},"passive",t);window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch(t){e=!1}return e}();function e(n,t){var i=n.$options.events;Object.keys(i).forEach(function(e){t(e,function(t){return i[e].call(n,t)})})}function n(t,e){var n=e.getBoundingClientRect();return{left:t.clientX-n.left,top:t.clientY-n.top}}var i={mixins:[t],props:{targetSelector:String,disabled:Boolean},data:function(){return{isDrag:!1}},watch:{target:"bindTarget"},mounted:function(){this.bindTarget()},events:{mousedown:function(t){return this.dragStart(t,this.offsetByMouse)},mousemove:function(t){return this.dragMove(t,this.offsetByMouse)},mouseup:function(t){return this.dragEnd(t,this.offsetByMouse)},touchstart:function(t){return this.dragStart(t,this.offsetByTouch)},touchmove:function(t){return this.dragMove(t,this.offsetByTouch)},touchend:function(t){return this.dragEnd(t,this.offsetByTouch)},touchcancel:function(t){return this.dragEnd(t,this.offsetByTouch)}},methods:{bindTarget:function(){this.target=this.$el.querySelector(this.targetSelector)||this.$el},offsetByMouse:function(t){return n(t,this.$el)},offsetByTouch:function(t){return n(0===t.touches.length?t.changedTouches[0]:t.touches[0],this.$el)},dragStart:function(t,e){this.disabled||this.target!==t.target||(t.preventDefault(),this.isDrag=!0,this.$emit("dragstart",t,e(t),this.target))},dragMove:function(t,e){this.isDrag&&(t.preventDefault(),this.$emit("drag",t,e(t),this.target))},dragEnd:function(t,e){this.isDrag&&(t.preventDefault(),this.isDrag=!1,this.$emit("dragend",t,e(t),this.target))}},render:function(){return this.$slots.default&&this.$slots.default[0]}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"popover-container bottom",style:{"margin-left":this.marginLeft+"px"},attrs:{id:"popover-default"}},[e("div",[this._t("default")],2)])},staticRenderFns:[],props:{percentValue:Number},computed:{marginLeft:function(){return this.percentValue<=6?this.percentValue/6*-30:Math.min(-30,-30-Math.floor((this.percentValue-75||0)/25*120))}}};return{render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{ref:"elem",staticClass:"range-slider",class:{disabled:e.disabled},on:{mousedown:e.shiftKnob}},[n("drag-helper",{attrs:{"target-selector":".range-slider-knob",disabled:e.disabled},on:{drag:e.drag,dragend:e.dragEnd}},[n("span",{ref:"inner",staticClass:"range-slider-inner"},[n("input",{staticClass:"range-slider-hidden",attrs:{type:"text",name:e.name,disabled:e.disabled},domProps:{value:e.actualValue}}),e._v(" "),n("span",{staticClass:"range-slider-rail"}),e._v(" "),n("span",{staticClass:"range-slider-fill",style:{width:e.valuePercent+"%"}}),e._v(" "),n("span",{staticClass:"range-slider-knob",style:{left:e.valuePercent+"%"}},[e._t("knob",null,{value:e.actualValue,min:e._min,max:e._max}),e._v(" "),e.noPopover?e._e():n("popover",{attrs:{"percent-value":e.valuePercent}},[e._t("popover",[n("h4",[e._v(e._s(e.actualValue))])],{value:e.actualValue,min:e._min,max:e._max})],2)],2),e._v(" "),e.noCalibration?e._e():n("span",{staticClass:"range-slider-calibration"},e._l(e.calibrationOffsets,function(t){return n("span",{key:t,staticClass:"calibration-item",style:{left:t+"%"}},[n("div",[e._v("|")]),e._v(" "),n("span",{staticClass:"calibration-knob"},[e._v(e._s((t/100*(e._max-e._min)+e._min).toLocaleString("en")))])])}))])])],1)},staticRenderFns:[],props:{name:String,value:[String,Number],disabled:{type:Boolean,default:!1},min:{type:[String,Number],default:0},max:{type:[String,Number],default:100},step:{type:[String,Number],default:1},noPopover:{type:Boolean,default:!1},noCalibration:{type:Boolean,default:!1},calibrationCount:{type:Number,default:10}},data:function(){return{actualValue:null}},created:function(){var t=this._min,e=this._max,n=Number(this.value);(null==this.value||isNaN(n))&&(n=e<t?t:(t+e)/2),this.actualValue=this.round(n)},computed:{_min:function(){return Number(this.min)},_max:function(){return Number(this.max)},_step:function(){return Number(this.step)},valuePercent:function(){return(this.actualValue-this._min)/(this._max-this._min)*100},calibrationOffsets:function(){var e=this;return[0].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}("0".repeat(this.calibrationCount).split("").map(function(t,e){return e+1}))).map(function(t){return t/e.calibrationCount*100})}},watch:{value:function(t){var e=Number(t);null==t||isNaN(e)||(this.actualValue=this.round(e))},min:function(){this.actualValue=this.round(this.actualValue)},max:function(){this.actualValue=this.round(this.actualValue)}},methods:{drag:function(t,e){var n=this.$refs.inner.offsetWidth;this.actualValue=this.round(this.valueFromBounds(e.left,n)),this.emitEvent(this.actualValue)},dragEnd:function(t,e){var n=this.$refs.inner.offsetWidth;this.actualValue=this.round(this.valueFromBounds(e.left,n)),this.emitEvent(this.actualValue,!0)},emitEvent:function(t,e){this.$emit("input",t),e&&this.$emit("change",t)},valueFromBounds:function(t,e){return t/e*(this._max-this._min)+this._min},round:function(t){return function(t,e,n,i){if(t<=e)return e;var a=Math.floor((n-e)/i)*i+e;if(a<=t)return a;var r=(t-e)/i,s=Math.floor(r),u=r-s;return 0===u?t:u<.5?i*s+e:i*(s+1)+e}(t,this._min,this._max,this._step)},shiftKnob:function(e){if(["range-slider","range-slider-inner","range-slider-fill","range-slider-rail"].some(function(t){return e.path[0].classList.contains(t)})){var t=e.pageX-this.$refs.elem.offsetLeft,n=Math.floor(t/this.$refs.elem.offsetWidth*100);this.actualValue=this.round(n/100*(this._max-this._min)+this._min),this.emitEvent(this.actualValue,!0),console.log(e)}}},components:{DragHelper:i,popover:a},mounted:function(){}}});